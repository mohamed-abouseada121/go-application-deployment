# 🚀 Go Application Deployment (QA Environment)

This project demonstrates how to deploy a **Go-based REST API** connected to a **MySQL database**, served through an **Nginx reverse proxy with SSL**, using **Docker Compose**.  
It represents a **QA (Quality Assurance) environment** — designed for integration testing before moving to production.

---

## 🧱 Project Architecture

```
[Client] ⇄ [Nginx (HTTPS)] ⇄ [Go Backend API] ⇄ [MySQL Database]
```

### Components:

| Service  | Description |
|-----------|-------------|
| **lb** | Nginx reverse proxy & SSL termination (handles HTTPS/HTTP redirect). |
| **api** | Go web API using `gorilla/mux`, exposes REST endpoints on port `8000`. |
| **db** | MySQL 8.0 database, initialized with a test table and sample data. |
| **ubuntu** | Lightweight Ubuntu container for manual QA testing (e.g., using `curl`). |

---

## ⚙️ Features

- 🐳 **Fully containerized setup** with Docker Compose  
- 🔒 **Self-signed SSL certificate** (auto-generated by `generate-ssl.sh`)  
- 🧠 **Environment isolation** for QA testing  
- 🔐 **Secrets management** for MySQL credentials  
- 🔄 **Persistent database volume**  
- 🌐 **Reverse proxy** with HTTPS enabled  

---

## 🧰 Technologies Used

- **Go (Golang)** — Backend API  
- **MySQL 8.0** — Database  
- **Nginx** — Load balancer / Reverse proxy  
- **Docker & Docker Compose** — Container orchestration  
- **Shell (Bash)** — SSL certificate generation  

---

## 🏗️ Setup Instructions

### 1️⃣ Clone the repository
```bash
git clone https://github.com/mohamed-abouseada121/go-application-deployment.git
cd go-application-deployment
```

### 2️⃣ Generate SSL certificate
```bash
chmod +x generate-ssl.sh
./generate-ssl.sh
```

This creates:
```
./ssl/server.crt
./ssl/server.key
```

### 3️⃣ Create database password file
Create a file named `db_password.txt` containing your MySQL root password:
```bash
echo -n "your_password_here" > db_password.txt
```

### 4️⃣ Build and start the services
```bash
docker-compose up --build
```

### 5️⃣ Test the setup
Open your browser or run:
```bash
curl -k https://localhost:8000
```

You should receive a response from the Go backend API through Nginx.

---

## 🔍 QA Testing Container

You can use the Ubuntu container to test internal communication:
```bash
docker exec -it ubuntu bash
curl -k https://lb
```

---

## 🗂️ Project Structure

```
.
├── backend/
│   ├── main.go
│   ├── go.mod
│   └── Dockerfile
├── nginx/
│   ├── nginx.conf
│   └── generate-ssl.sh
├── db_password.txt
├── docker-compose.yml
└── README.md
```

---

## 🧩 Networks & Secrets

| Resource | Purpose |
|-----------|----------|
| `internal_net` | Connects backend, database, and load balancer internally. |
| `external_net` | Exposes Nginx to outside clients and the Ubuntu test container. |
| `db-password` | Docker secret containing the MySQL root password. |

---

## 🧾 License

This project is licensed under the **MIT License** — feel free to use and modify it for your own learning or testing environments.

---

## 👤 Author

**Mohamed Ahmed Abouseada**  
- 🧠 Cloud  & DevOps Enthusiast  
- 📧 [mohamedmohamedahmed172@gmail.com](mailto:mohamedmohamedahmed172@gmail.com)  
- 💼 [LinkedIn](https://www.linkedin.com/in/mohamed-abouseada121/)  
- 💻 [GitHub](https://github.com/mohamed-abouseada121)

---

⭐ If you found this project helpful, consider giving it a **star** on GitHub!
